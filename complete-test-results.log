[dotenv@17.2.3] injecting env (24) from .env -- tip: ğŸ“¡ add observability to secrets: https://dotenvx.com/ops
[34mğŸ“ Loaded existing test wallet: 782UEzXBapVq1zB8pWdrjm5YE24LR1Am7SGoZcof3oeJ[0m
[35m
ğŸ§ª End-to-End Payment & Generation Test Suite
[0m
[34mTest Wallet: 782UEzXBapVq1zB8pWdrjm5YE24LR1Am7SGoZcof3oeJ[0m
[34mTreasury Wallet: CS4y3Ee2ZaXuwHheWgZ9Mosd2EGx1RfKqVGiAnnJ58XB[0m
[34mAPI Base: http://localhost:3003
[0m
[32mâœ“ Dev server is running
[0m

======================================================================
[36m[1mTesting Starter Tier - $1.1 SOL[0m
======================================================================
[36m
1ï¸âƒ£  Checking wallet balance...[0m
[34m  Current balance: 6.6000 SOL[0m
[36m
2ï¸âƒ£  Creating generation...[0m
[34m
ğŸ“ Creating generation record for Starter tier...[0m
[32mâœ“ Generation created: 5BNTYbG0IszwJODU[0m
[36m
3ï¸âƒ£  Sending payment...[0m
[34m
ğŸ’¸ Sending payment of 1.1 SOL...[0m
[32mâœ“ Payment sent! Transaction: 3Q3c4sL12D3fRPjY2zBkLJvYLWE8LifeXnxxx2bsGgxHJwo1NAhxBVdLF9NvzGfHMt91YxWL2hRnG3vKRWCXnx6a[0m
[34m  View: https://explorer.solana.com/tx/3Q3c4sL12D3fRPjY2zBkLJvYLWE8LifeXnxxx2bsGgxHJwo1NAhxBVdLF9NvzGfHMt91YxWL2hRnG3vKRWCXnx6a?cluster=devnet[0m
[36m
4ï¸âƒ£  Verifying payment...[0m
[34m
ğŸ” Verifying payment...[0m
[32mâœ“ Payment verified successfully![0m
[34m  Confirmations: 16[0m
[36m
5ï¸âƒ£  Triggering AI generation...[0m
[34m
ğŸ¤– Triggering AI generation...[0m
[32mâœ“ Generation triggered successfully![0m
[34m  Status: completed[0m
[36m
6ï¸âƒ£  Waiting for generation to complete...[0m
[34m
â³ Polling generation status...[0m
  Status: undefined (1/60)...  Status: undefined (2/60)...  Status: undefined (3/60)...  Status: undefined (4/60)...  Status: undefined (5/60)...  Status: undefined (6/60)...  Status: undefined (7/60)...  Status: undefined (8/60)...  Status: undefined (9/60)...  Status: undefined (10/60)...  Status: undefined (11/60)...  Status: undefined (12/60)...  Status: undefined (13/60)...  Status: undefined (14/60)...  Status: undefined (15/60)...  Status: undefined (16/60)...  Status: undefined (17/60)...  Status: undefined (18/60)...  Status: undefined (19/60)...  Status: undefined (20/60)...  Status: undefined (21/60)...  Status: undefined (22/60)...  Status: undefined (23/60)...  Status: undefined (24/60)...  Status: undefined (25/60)...  Status: undefined (26/60)...  Status: undefined (27/60)...  Status: undefined (28/60)...  Status: undefined (29/60)...  Status: undefined (30/60)...  Status: undefined (31/60)...  Status: undefined (32/60)...  Status: undefined (33/60)...  Status: undefined (34/60)...  Status: undefined (35/60)...  Status: undefined (36/60)...  Status: undefined (37/60)...  Status: undefined (38/60)...  Status: undefined (39/60)...  Status: undefined (40/60)...  Status: undefined (41/60)...  Status: undefined (42/60)...  Status: undefined (43/60)...  Status: undefined (44/60)...  Status: undefined (45/60)...  Status: undefined (46/60)...  Status: undefined (47/60)...  Status: undefined (48/60)...  Status: undefined (49/60)...  Status: undefined (50/60)...  Status: undefined (51/60)...  Status: undefined (52/60)...  Status: undefined (53/60)...  Status: undefined (54/60)...  Status: undefined (55/60)...  Status: undefined (56/60)...  Status: undefined (57/60)...  Status: undefined (58/60)...  Status: undefined (59/60)...  Status: undefined (60/60)...[31m
âŒ Starter tier test FAILED: Generation timeout - exceeded max polling attempts[0m
[33m
â¸ï¸  Waiting 5 seconds before next test...[0m

======================================================================
[36m[1mTesting Professional Tier - $2.1 SOL[0m
======================================================================
[36m
1ï¸âƒ£  Checking wallet balance...[0m
[34m  Current balance: 5.5000 SOL[0m
[36m
2ï¸âƒ£  Creating generation...[0m
[34m
ğŸ“ Creating generation record for Professional tier...[0m
[32mâœ“ Generation created: epgSRgNn-1BPHNi3[0m
[36m
3ï¸âƒ£  Sending payment...[0m
[34m
ğŸ’¸ Sending payment of 2.1 SOL...[0m
[32mâœ“ Payment sent! Transaction: 35dXgDNC5u9sNuc6dVAtwgwrPi6VKr64w88XVcuMHSBZCrrizbbfZ4nkaScXx6ngm3XzCiA772DQUGH8ELPX4qXe[0m
[34m  View: https://explorer.solana.com/tx/35dXgDNC5u9sNuc6dVAtwgwrPi6VKr64w88XVcuMHSBZCrrizbbfZ4nkaScXx6ngm3XzCiA772DQUGH8ELPX4qXe?cluster=devnet[0m
[36m
4ï¸âƒ£  Verifying payment...[0m
[34m
ğŸ” Verifying payment...[0m
[32mâœ“ Payment verified successfully![0m
[34m  Confirmations: 14[0m
[36m
5ï¸âƒ£  Triggering AI generation...[0m
[34m
ğŸ¤– Triggering AI generation...[0m
[32mâœ“ Generation triggered successfully![0m
[34m  Status: completed[0m
[36m
6ï¸âƒ£  Waiting for generation to complete...[0m
[34m
â³ Polling generation status...[0m
  Status: undefined (1/60)...  Status: undefined (2/60)...  Status: undefined (3/60)...  Status: undefined (4/60)...  Status: undefined (5/60)...  Status: undefined (6/60)...  Status: undefined (7/60)...  Status: undefined (8/60)...  Status: undefined (9/60)...  Status: undefined (10/60)...  Status: undefined (11/60)...  Status: undefined (12/60)...  Status: undefined (13/60)...  Status: undefined (14/60)...  Status: undefined (15/60)...  Status: undefined (16/60)...  Status: undefined (17/60)...  Status: undefined (18/60)...  Status: undefined (19/60)...  Status: undefined (20/60)...  Status: undefined (21/60)...  Status: undefined (22/60)...  Status: undefined (23/60)...  Status: undefined (24/60)...  Status: undefined (25/60)...  Status: undefined (26/60)...  Status: undefined (27/60)...  Status: undefined (28/60)...  Status: undefined (29/60)...  Status: undefined (30/60)...  Status: undefined (31/60)...  Status: undefined (32/60)...  Status: undefined (33/60)...  Status: undefined (34/60)...  Status: undefined (35/60)...  Status: undefined (36/60)...  Status: undefined (37/60)...  Status: undefined (38/60)...  Status: undefined (39/60)...  Status: undefined (40/60)...  Status: undefined (41/60)...  Status: undefined (42/60)...  Status: undefined (43/60)...  Status: undefined (44/60)...  Status: undefined (45/60)...  Status: undefined (46/60)...  Status: undefined (47/60)...  Status: undefined (48/60)...  Status: undefined (49/60)...  Status: undefined (50/60)...  Status: undefined (51/60)...  Status: undefined (52/60)...  Status: undefined (53/60)...  Status: undefined (54/60)...  Status: undefined (55/60)...  Status: undefined (56/60)...  Status: undefined (57/60)...  Status: undefined (58/60)...  Status: undefined (59/60)...  Status: undefined (60/60)...[31m
âŒ Professional tier test FAILED: Generation timeout - exceeded max polling attempts[0m
[33m
â¸ï¸  Waiting 5 seconds before next test...[0m

======================================================================
[36m[1mTesting Enterprise Tier - $4.4 SOL[0m
======================================================================
[36m
1ï¸âƒ£  Checking wallet balance...[0m
[33mğŸ’° Balance too low (3.399985 SOL). Requesting airdrop...[0m
Server responded with 429 Too Many Requests.  Retrying after 500ms delay...
Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 4000ms delay...
[31mâœ— Airdrop failed: 429 Too Many Requests:  {"jsonrpc":"2.0","error":{"code": 429, "message":"You've either reached your airdrop limit today or the airdrop faucet has run dry. Please visit https://faucet.solana.com for alternate sources of test SOL"}, "id": "48f7efe6-160f-4b14-ae60-0286ca665645" } 
[0m
[33mPlease manually fund: 782UEzXBapVq1zB8pWdrjm5YE24LR1Am7SGoZcof3oeJ[0m
[33mVisit: https://solfaucet.com[0m
[34m  Current balance: 3.4000 SOL[0m
[31m
âŒ Enterprise tier test FAILED: Insufficient balance. Need 4.4 SOL, have 3.399985 SOL[0m

======================================================================
[36m[1mTest Summary[0m
======================================================================

[31mâŒ Starter Tier: FAILED[0m
[34m   Generation ID: 5BNTYbG0IszwJODU[0m
[34m   Transaction: 3Q3c4sL12D3fRPjY2zBkLJvYLWE8LifeXnxxx2bsGgxHJwo1NAhxBVdLF9NvzGfHMt91YxWL2hRnG3vKRWCXnx6a[0m
[31m   Error: Generation timeout - exceeded max polling attempts[0m

[31mâŒ Professional Tier: FAILED[0m
[34m   Generation ID: epgSRgNn-1BPHNi3[0m
[34m   Transaction: 35dXgDNC5u9sNuc6dVAtwgwrPi6VKr64w88XVcuMHSBZCrrizbbfZ4nkaScXx6ngm3XzCiA772DQUGH8ELPX4qXe[0m
[31m   Error: Generation timeout - exceeded max polling attempts[0m

[31mâŒ Enterprise Tier: FAILED[0m
[31m   Error: Insufficient balance. Need 4.4 SOL, have 3.399985 SOL[0m

======================================================================
[36mTotal: 3 tests[0m
[32mâœ… Passed: 0[0m
[31mâŒ Failed: 3[0m
======================================================================
[33m
âš ï¸  Some tests failed. Please review the errors above.[0m
